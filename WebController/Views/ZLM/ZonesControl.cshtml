@using ZoneLighting.ZoneProgramNS
@model ZoneLighting.ZLM
@using (Ajax.BeginForm(new AjaxOptions { UpdateTargetId = "ZonesControl" }))
{
	<div class="row">
		<div class="col-lg-6">
			<div class="panel panel-primary">
				<div class="panel-heading">
					<h3 class="panel-title">
						<i class="fa fa-bar-chart-o"></i> Zones
					</h3>
				</div>
				<div class="panel-body">
					<table class="table table-striped table-hover">
						<thead>
							<tr>
								<th>Name</th>
								<th>Program</th>
								<th>Running</th>
								<th># Lights</th>
							</tr>
						</thead>
						<tbody>
							@if (Model.Zones != null)
							{
								foreach (var zone in Model.Zones)
								{
									<tr>
										<td>@zone.Name</td>
										<td>@zone.ZoneProgram</td>
										<td>@zone.Running</td>
										<td>@zone.LightCount</td>
									</tr>
								}
							}
						</tbody>
					</table>
				</div>
			</div>
		</div>
		<div class="col-lg-6">
			<div class="panel panel-primary">
				<div class="panel-heading">
					<h3 class="panel-title">
						<i class="fa fa-bar-chart-o"></i> Program Sets
					</h3>
				</div>
				<div class="panel-body">
					<table class="table table-striped table-hover">
						<thead>
							<tr>
								<th>Name</th>
								<th>Program</th>
								<th>State</th>
								<th>Start</th>
								<th>Stop</th>
							</tr>
						</thead>
						<tbody>
							@if (Model.ProgramSets != null)
				{
					foreach (var programSet in Model.ProgramSets)
					{
									<tr>
										<td class="@(programSet.State == ProgramState.Started ? "on" : "")">@programSet.Name</td>
										<td class="@(programSet.State == ProgramState.Started ? "on" : "")">@programSet.ProgramName</td>
										<td class="@(programSet.State == ProgramState.Started ? "on" : "")">@programSet.State</td>
										<td class="@(programSet.State == ProgramState.Started ? "on" : "")">
											@if (programSet.State == ProgramState.Stopped)
											{
												@Html.ActionLink("Start", "ZLMCommand", "ZLM", new { Command = "Start " + programSet.Name }, new { @class = "btn btn-primary" })
											}
											else
											{
												<i>N/A</i>
											}
										</td>
										<td class="@(programSet.State == ProgramState.Started ? "on" : "")">
											@if (programSet.State == ProgramState.Started)
											{
												@Html.ActionLink("Stop", "ZLMCommand", "ZLM", new { Command = "Stop " + programSet.Name }, new { @class = "btn btn-primary" })
												@*<input type="submit" value="Stop @(programSet.Name)" id="btnStop" name="Command" class="btn btn-primary" />*@
											}
											else
											{
												<i>N/A</i>
											}
										</td>
									</tr>
					}
				}
							@if (Model.ProgramSets != null)
							{
								<tr>
									<td>All ProgramSets</td>
									<td>-</td>
									<td>-</td>
									<td>
										@Html.ActionLink("Start", "ZLMCommand", "ZLM", new {Command = "Start All"}, new {@class = "btn btn-primary"})
										@*<input type="submit" value="Start All" id="btnStart" name="Command" class="btn btn-primary"/>*@
									</td>
									<td>
										@Html.ActionLink("Stop", "ZLMCommand", "ZLM", new {Command = "Stop All"}, new {@class = "btn btn-primary"})
										@*<input type="submit" value="Stop All" id="btnStop" name="Command" class="btn btn-primary"/>*@
									</td>
								</tr>
							}
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
}
